diff --git a/bitnami/postgresql/14/debian-12/Dockerfile b/bitnami/postgresql/14/debian-12/Dockerfile
index c2152cae308..f6a1ca8d3ac 100644
--- a/bitnami/postgresql/14/debian-12/Dockerfile
+++ b/bitnami/postgresql/14/debian-12/Dockerfile
@@ -1,55 +1,127 @@
-# Copyright Broadcom, Inc. All Rights Reserved.
-# SPDX-License-Identifier: APACHE-2.0
+# refer : https://github.com/docker-library/postgres
+# license : MIT
+# https://github.com/docker-library/postgres/blob/master/LICENSE
+FROM debian:bookworm-slim
+RUN apt-get update -y && apt-get install -y libnss-wrapper unixodbc xz-utils gnupg
 
-FROM docker.io/bitnami/minideb:bookworm
+RUN set -ex; \
+# pub   4096R/ACCC4CF8 2011-10-13 [expires: 2019-07-02]
+#       Key fingerprint = B97B 0AFC AA1A 47F0 44F2  44A0 7FCC 7D46 ACCC 4CF8
+# uid                  PostgreSQL Debian Repository
+        key='B97B0AFCAA1A47F044F244A07FCC7D46ACCC4CF8'; \
+        export GNUPGHOME="$(mktemp -d)"; \
+        gpg --batch --keyserver hkp://keyserver.ubuntu.com:80 --recv-keys "$key"; \
+        gpg --batch --export "$key" > /etc/apt/trusted.gpg.d/postgres.gpg; \
+        command -v gpgconf > /dev/null && gpgconf --kill all; \
+        rm -rf "$GNUPGHOME"; \
+        apt-key list
 
-ARG DOWNLOADS_URL="downloads.bitnami.com/files/stacksmith"
-ARG EXTRA_LOCALES
-ARG TARGETARCH
-ARG WITH_ALL_LOCALES="no"
+ENV PG_MAJOR 14
+ENV PATH $PATH:/usr/lib/postgresql/$PG_MAJOR/bin
 
-LABEL com.vmware.cp.artifact.flavor="sha256:c50c90cfd9d12b445b011e6ad529f1ad3daea45c26d20b00732fae3cd71f6a83" \
-      org.opencontainers.image.base.name="docker.io/bitnami/minideb:bookworm" \
-      org.opencontainers.image.created="2024-11-06T19:17:17Z" \
-      org.opencontainers.image.description="Application packaged by Broadcom, Inc." \
-      org.opencontainers.image.documentation="https://github.com/bitnami/containers/tree/main/bitnami/postgresql/README.md" \
-      org.opencontainers.image.licenses="Apache-2.0" \
-      org.opencontainers.image.ref.name="14.13.0-debian-12-r21" \
-      org.opencontainers.image.source="https://github.com/bitnami/containers/tree/main/bitnami/postgresql" \
-      org.opencontainers.image.title="postgresql" \
-      org.opencontainers.image.vendor="Broadcom, Inc." \
-      org.opencontainers.image.version="14.13.0"
+ENV PG_VERSION 14.15-1.pgdg120+1
+ENV PG_EXTENSIONS postgresql-$PG_MAJOR-pgaudit postgresql-$PG_MAJOR-orafce postgresql-$PG_MAJOR-auto-failover postgresql-$PG_MAJOR-pljava postgresql-$PG_MAJOR-postgis-3
 
-ENV HOME="/" \
-    OS_ARCH="${TARGETARCH:-amd64}" \
-    OS_FLAVOUR="debian-12" \
-    OS_NAME="linux"
+RUN set -ex; \
+        \
+# see note below about "*.pyc" files
+        export PYTHONDONTWRITEBYTECODE=1; \
+        \
+        dpkgArch="$(dpkg --print-architecture)"; \
+        case "$dpkgArch" in \
+                amd64 | arm64 | ppc64el) \
+# arches officialy built by upstream
+                        echo "deb http://apt.postgresql.org/pub/repos/apt/ bookworm-pgdg main $PG_MAJOR" > /etc/apt/sources.list.d/pgdg.list; \
+                        apt-get update; \
+                        ;; \
+                *) \
+# we're on an architecture upstream doesn't officially build for
+# let's build binaries from their published source packages
+                        echo "deb-src http://apt.postgresql.org/pub/repos/apt/ bookworm-pgdg main $PG_MAJOR" > /etc/apt/sources.list.d/pgdg.list; \
+                        \
+                        tempDir="$(mktemp -d)"; \
+                        cd "$tempDir"; \
+                        \
+                        savedAptMark="$(apt-mark showmanual)"; \
+                        \
+# build .deb files from upstream's source packages (which are verified by apt-get)
+                        apt-get update; \
+                        apt-get build-dep -y \
+                                postgresql-common pgdg-keyring \
+                                "postgresql-$PG_MAJOR=$PG_VERSION" $PG_EXTENSIONS \
+                        ; \
+                        DEB_BUILD_OPTIONS="nocheck parallel=$(nproc)" \
+                                apt-get source --compile \
+                                        postgresql-common pgdg-keyring \
+                                        "postgresql-$PG_MAJOR=$PG_VERSION" $PG_EXTENSIONS \
+                        ; \
+# we don't remove APT lists here because they get re-downloaded and removed later
+                        \
+# reset apt-mark's "manual" list so that "purge --auto-remove" will remove all build dependencies
+# (which is done after we install the built packages so we don't have to redownload any overlapping dependencies)
+                        apt-mark showmanual | xargs apt-mark auto > /dev/null; \
+                        apt-mark manual $savedAptMark; \
+                        \
+# create a temporary local APT repo to install from (so that dependency resolution can be handled by APT, as it should be)
+                        ls -lAFh; \
+                        dpkg-scanpackages . > Packages; \
+                        grep '^Package: ' Packages; \
+                        echo "deb [ trusted=yes ] file://$tempDir ./" > /etc/apt/sources.list.d/temp.list; \
+# work around the following APT issue by using "Acquire::GzipIndexes=false" (overriding "/etc/apt/apt.conf.d/docker-gzip-indexes")
+#   Could not open file /var/lib/apt/lists/partial/_tmp_tmp.ODWljpQfkE_._Packages - open (13: Permission denied)
+#   ...
+#   E: Failed to fetch store:/var/lib/apt/lists/partial/_tmp_tmp.ODWljpQfkE_._Packages  Could not open file /var/lib/apt/lists/partial/_tmp_tmp.ODWljpQfkE_._Packages - open (13: Permission denied)
+                        apt-get -o Acquire::GzipIndexes=false update; \
+                        ;; \
+        esac; \
+        \
+        apt-get install -y --no-install-recommends postgresql-common; \
+        sed -ri 's/#(create_main_cluster) .*$/\1 = false/' /etc/postgresql-common/createcluster.conf; \
+        apt-get install -y --no-install-recommends \
+                "postgresql-$PG_MAJOR=$PG_VERSION" $PG_EXTENSIONS \
+        ; \
+        \
+        rm -rf /var/lib/apt/lists/*; \
+        \
+        if [ -n "$tempDir" ]; then \
+# if we have leftovers from building, let's purge them (including extra, unnecessary build deps)
+                apt-get purge -y --auto-remove; \
+                rm -rf "$tempDir" /etc/apt/sources.list.d/temp.list; \
+        fi; \
+        \
+# some of the steps above generate a lot of "*.pyc" files (and setting "PYTHONDONTWRITEBYTECODE" beforehand doesn't propagate properly for some reason), so we clean them up manually (as long as they aren't owned by a package)
+        find /usr -name '*.pyc' -type f -exec bash -c 'for pyc; do dpkg -S "$pyc" &> /dev/null || rm -vf "$pyc"; done' -- '{}' +; \
+        \
+        postgres --version
+
+RUN mkdir -p /opt/bitnami/common/bin \
+    && mkdir -p /opt/bitnami/common/sbin \
+    && mkdir -p /opt/bitnami/common/lib \
+        && mkdir -p /opt/bitnami/postgresql/bin \
+    && mkdir -p /opt/bitnami/postgresql/sbin \
+    && mkdir -p /opt/bitnami/postgresql/lib \
+    && mkdir -p /opt/bitnami/postgresql/share \
+        && ln -sf $(find /usr/lib/*linux-gnu | grep libnss_wrapper.so)    /opt/bitnami/common/lib/ \
+    && ln -sf /usr/bin/pg_*                            /opt/bitnami/postgresql/bin/ \
+        && ln -sf /usr/lib/postgresql/$PG_MAJOR/bin/*      /opt/bitnami/postgresql/bin/ \
+        && ln -sf /usr/lib/postgresql/$PG_MAJOR/lib/*      /opt/bitnami/postgresql/lib/ \
+    && ln -sf /usr/sbin/pg_*                           /opt/bitnami/postgresql/sbin/ \
+    && ln -sf /usr/share/postgresql/$PG_MAJOR/*        /opt/bitnami/postgresql/share/ \
+        && deluser postgres \
+    && chmod 1777 /var/run/postgresql \
+    && sed -E -i "s/775/777/g" /usr/lib/tmpfiles.d/postgresql-common.conf \
+    && chown 1001:4096 -R /var/run/postgresql /var/lib/postgresql /var/log/postgresql
 
 COPY prebuildfs /
-SHELL ["/bin/bash", "-o", "errexit", "-o", "nounset", "-o", "pipefail", "-c"]
+SHELL ["/bin/bash", "-o", "pipefail", "-c"]
 # Install required system packages and dependencies
 RUN install_packages ca-certificates curl libbsd0 libbz2-1.0 libedit2 libffi8 libgcc-s1 libgmp10 libgnutls30 libhogweed6 libicu72 libidn2-0 libldap-2.5-0 liblz4-1 liblzma5 libmd0 libncurses6 libnettle8 libp11-kit0 libpcre3 libreadline8 libsasl2-2 libsqlite3-0 libssl3 libstdc++6 libtasn1-6 libtinfo6 libunistring2 libuuid1 libxml2 libxslt1.1 libzstd1 locales procps zlib1g
-RUN mkdir -p /tmp/bitnami/pkg/cache/ ; cd /tmp/bitnami/pkg/cache/ ; \
-    COMPONENTS=( \
-      "postgresql-14.13.0-20-linux-${OS_ARCH}-debian-12" \
-    ) ; \
-    for COMPONENT in "${COMPONENTS[@]}"; do \
-      if [ ! -f "${COMPONENT}.tar.gz" ]; then \
-        curl -SsLf "https://${DOWNLOADS_URL}/${COMPONENT}.tar.gz" -O ; \
-        curl -SsLf "https://${DOWNLOADS_URL}/${COMPONENT}.tar.gz.sha256" -O ; \
-      fi ; \
-      sha256sum -c "${COMPONENT}.tar.gz.sha256" ; \
-      tar -zxf "${COMPONENT}.tar.gz" -C /opt/bitnami --strip-components=2 --no-same-owner --wildcards '*/files' ; \
-      rm -rf "${COMPONENT}".tar.gz{,.sha256} ; \
-    done
-RUN apt-get autoremove --purge -y curl && \
-    apt-get update && apt-get upgrade -y && \
-    apt-get clean && rm -rf /var/lib/apt/lists /var/cache/apt/archives
+
 RUN chmod g+rwX /opt/bitnami
 RUN localedef -c -f UTF-8 -i en_US en_US.UTF-8
-RUN find / -perm /6000 -type f -exec chmod a-s {} \; || true
 RUN update-locale LANG=C.UTF-8 LC_MESSAGES=POSIX && \
     DEBIAN_FRONTEND=noninteractive dpkg-reconfigure locales
+RUN echo 'en_GB.UTF-8 UTF-8' >> /etc/locale.gen && locale-gen
 RUN echo 'en_US.UTF-8 UTF-8' >> /etc/locale.gen && locale-gen
 
 COPY rootfs /
@@ -60,7 +132,7 @@ ENV APP_VERSION="14.13.0" \
     LANG="en_US.UTF-8" \
     LANGUAGE="en_US:en" \
     NSS_WRAPPER_LIB="/opt/bitnami/common/lib/libnss_wrapper.so" \
-    PATH="/opt/bitnami/postgresql/bin:$PATH"
+    PATH="/opt/bitnami/common/bin:/opt/bitnami/postgresql/bin:$PATH"
 
 VOLUME [ "/bitnami/postgresql", "/docker-entrypoint-initdb.d", "/docker-entrypoint-preinitdb.d" ]
 
@@ -69,3 +141,4 @@ EXPOSE 5432
 USER 1001
 ENTRYPOINT [ "/opt/bitnami/scripts/postgresql/entrypoint.sh" ]
 CMD [ "/opt/bitnami/scripts/postgresql/run.sh" ]
+
diff --git a/bitnami/postgresql/14/debian-12/rootfs/opt/bitnami/scripts/libpostgresql.sh b/bitnami/postgresql/14/debian-12/rootfs/opt/bitnami/scripts/libpostgresql.sh
index a1c28111e0e..3653104ce24 100644
--- a/bitnami/postgresql/14/debian-12/rootfs/opt/bitnami/scripts/libpostgresql.sh
+++ b/bitnami/postgresql/14/debian-12/rootfs/opt/bitnami/scripts/libpostgresql.sh
@@ -387,8 +387,7 @@ postgresql_configure_replication_parameters() {
     postgresql_set_property "max_wal_senders" "16"
     if ((psql_major_version >= 13)); then
         postgresql_set_property "wal_keep_size" "128MB"
-    else
-        postgresql_set_property "wal_keep_segments" "12"
+        postgresql_set_property "wal_keep_segments" "14"
     fi
     postgresql_set_property "hot_standby" "on"
 }
